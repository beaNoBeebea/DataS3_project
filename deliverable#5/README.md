# Moroccan National Health Services (MNHS) – Mini App

This project is a small command-line application that connects to the **MNHS MySQL database** and runs a few useful commands on top of it (listing patients, scheduling appointments, checking low stock, etc.).

It was built as part of the **Data Management** course (Part VI: Views, Triggers & Application Development).

---

## Features

The CLI currently supports these commands:

1. `list_patients`  
   Print the **first 20 patients** ordered by last name.

2. `schedule_appt`  
   Create a **clinical activity** and a **scheduled appointment** in **one transaction**.

3. `low_stock`  
   List medications **below `ReorderLevel`** per hospital, using a left join so that
   medications **without stock** also appear.

4. `staff_share`  
   For each staff member, compute:
   - total number of appointments
   - percentage share of appointments **within their hospital**

---

## Project Structure

Typical files in this project:

- `app.py` – main entry point, parses command-line arguments and dispatches commands  
- `commands.py` – implementation of the CLI commands (list patients, schedule appt, etc.)  
- `db.py` – database connection and query helpers  
- `logging_utils.py` – central logging configuration used by other files  
- `requirements.txt` – Python dependencies  
- `.env` – environment variables with database credentials (not committed)

You might also have:

- SQL scripts for **views** and **triggers**
- a `mnhs.log` file generated by the logger

---

## Requirements

- **Python** 3.9+  
- **MySQL** server with the MNHS schema and data loaded
- A database user, for example:
  - DB name: `lab3`
  - User: `mnhs_user`
  - Password: `STRONG_PASSWORD` (or whatever you chose)

Python packages (installed via `requirements.txt`), e.g.:

- `mysql-connector-python`
- `SQLAlchemy`
- `pandas`
- `python-dotenv`

---

## Setup

1. **Clone the project** (or download it into a folder).

2. **Create and activate a virtual environment**:

   ```bash
   python -m venv .venv
   source .venv/bin/activate       # macOS / Linux
   # .venv\Scripts\activate        # Windows (PowerShell / CMD)
